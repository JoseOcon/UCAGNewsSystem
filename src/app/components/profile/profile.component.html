<div class="mainContainer">
  <button mat-mini-fab id="edit">
    <i
      class="material-icons"
      [style.color]="this.editMode ? 'red' : '#007efc'"
      (click)="switchForm()"
    >
      {{ this.editMode ? "clear" : "edit" }}
    </i>
  </button>

  <button *ngIf="this.editMode" mat-mini-fab id="save-info">
    <i class="material-icons" (click)="editUser()"> save </i>
  </button>

  <h1>Mi Perfil</h1>

  <div class="img-container">
    <img src="../../../assets/user_profile.png" />
    <div class="img-options">
      <div title="Añadir imagen" class="img-button-container">
        <label for="file-upload" class="image-buttons add-img-button"
          ><mat-icon>add_photo_alternate</mat-icon></label
        >
        <input
          id="file-upload"
          type="file"
          accept="image/x-png,image/gif,image/jpeg"
          style="display: none"
          multiple
        />
      </div>
      <div title="Eliminar imagen" class="img-button-container">
        <button
          mat-button
          class="image-buttons"
          color="warn"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <form [formGroup]="userFG">
    <mat-form-field>
      <mat-label>Nombre</mat-label>
      <input
        #name
        maxlength="20"
        matInput
        placeholder="Nombre"
        type="text"
        [formControl]="userFG.get('name')"
        required
      />
      <mat-hint align="end">{{ name.value.length }} / 20</mat-hint>
      <span matPrefix>
        <i class="material-icons my-icon">person</i>
      </span>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Segundo nombre</mat-label>
      <input
        #secondName
        maxlength="20"
        matInput
        placeholder="Segundo nombre"
        type="text"
        [formControl]="userFG.get('second_name')"
      />
      <mat-hint align="end">{{ secondName.value.length }} / 20</mat-hint>
      <span matPrefix>
        <i class="material-icons my-icon">person</i>
      </span>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Apellidos</mat-label>
      <input
        #lastName
        maxlength="60"
        matInput
        placeholder="Apellidos"
        type="text"
        [formControl]="userFG.get('last_name')"
        required
      />
      <mat-hint align="end">{{ lastName.value.length }} / 60</mat-hint>
      <span matPrefix>
        <i class="material-icons my-icon">person</i>
      </span>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Cédula - Formato: 101230123 </mat-label>
      <input
        #identification
        maxlength="9"
        matInput
        placeholder="Formato: 101230123"
        type="text"
        [formControl]="userFG.get('identification')"
        required
      />
      <mat-hint align="end">{{ identification.value.length }} / 9</mat-hint>
      <mat-error
        *ngIf="
          userFG.get('identification').invalid &&
          (userFG.get('identification').dirty ||
            userFG.get('identification').touched)
        "
      >
        Por favor ingrese una cédula válida
      </mat-error>
      <span matPrefix>
        <i class="material-icons my-icon">badge</i>
      </span>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Correo electrónico</mat-label>
      <input
        #email
        maxlength="50"
        matInput
        placeholder="Correo electrónico"
        type="email"
        [formControl]="userFG.get('email')"
        name="email"
        required
      />
      <mat-hint align="end">{{ email.value.length }} / 50</mat-hint>
      <mat-error
        *ngIf="
          userFG.get('email').errors &&
          (userFG.get('email').touched || userFG.get('email').dirty)
        "
      >
        Por favor ingrese un correo valido
      </mat-error>
      <span matPrefix>
        <i class="material-icons my-icon">mail</i>
      </span>
    </mat-form-field>

    <mat-form-field>
      <mat-label
        >Teléfono - Formatos: 8888-8888 / 8888 8888 / 88888888</mat-label
      >
      <input
        #phoneNumber
        maxlength="9"
        matInput
        placeholder="Formatos: 8888-8888 / 8888 8888 / 88888888"
        type="text"
        [formControl]="userFG.get('phone_number')"
        required
      />
      <mat-hint align="end">{{ phoneNumber.value.length }} / 9</mat-hint>
      <mat-error
        *ngIf="
          userFG.get('phone_number').invalid &&
          (userFG.get('phone_number').dirty ||
            userFG.get('phone_number').touched)
        "
      >
        Por favor ingrese un teléfono válido
      </mat-error>
      <span matPrefix>
        <i class="material-icons my-icon">local_phone</i>
      </span>
    </mat-form-field>
  </form>
</div>
